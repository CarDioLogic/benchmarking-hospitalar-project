<app-password-recup-modal
  [isVisible]="isModalVisible"
  (closeEvent)="closeModal()"
></app-password-recup-modal>

<form (ngSubmit)="onLogin()">
  <div
    class="relative flex flex-col justify-center items-center rounded-xl mx-auto my-5 pb-10 w-[90%] p-10 sm:w-1/2 gap-10 sm:px-10 md:max-w-[500px] md:min-h-[300px] blueBG"
    [ngClass]="{ redBorder: errorMessage }">
    <!-- Input containers apenas visÃ­veis quando isLoading for falso -->
    <mat-form-field class="w-full mb-4 blueBG" *ngIf="!isLoading">
      <mat-label class="blueTxt">Email: </mat-label>
      <input matInputid="email" [ngClass]="{'loginInput--error': errorMessage}" 
      [(ngModel)]="email" name="email" required />
      <span *ngIf="errorMessage" class="errorSpan">{{ errorMessage }}</span>
    </mat-form-field>

    <mat-form-field class="w-full mb-4" *ngIf="!isLoading">
      <mat-label class="blueTxt">Senha:</mat-label>
      <input matInputid="password" type="password" [ngClass]="{'loginInput--error': errorMessage}"  [(ngModel)]="password" name="password" required />
      <span *ngIf="errorMessage" class="errorSpan">{{ errorMessage }}</span>
    </mat-form-field>

    <button *ngIf="!isLoading" mat-raised-button type="submit"
      class="custom-button">Login</button>


    <app-loading-spinner *ngIf="isLoading" [isForBlueBG]="true"></app-loading-spinner>

    <a *ngIf="!isLoading" class="cursor-pointer mt-16 no-underline whiteTxt text-sm forgotPassLink" (click)="openModal($event)">Esqueceu a senha?</a>
  </div>
</form>

<app-password-recup-modal [isVisible]="isModalVisible" (closeEvent)="closeModal()"></app-password-recup-modal>