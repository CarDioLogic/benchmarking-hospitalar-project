
<div class="modal" [ngClass]="{ show: isVisible }" (click)="close()">
  <div
    class="p-4 w-[90%] sm:w-[60%] mx-auto my-5 sm:my-20 shadow-md blueBG modalBorder"
    (click)="$event.stopPropagation()"
    [ngClass]="{ 'forms-container__error': isError }"
  >
    <div class="modalHeader mb-2">
      <h2 class="modalTitle">Atualizar perfil</h2>
      <span class="close" (click)="close()">&times;</span>
    </div>

    <form (ngSubmit)="formSubmited()">
      <mat-form-field class="w-full mb-4 blueBG" *ngIf="!isLoading">
        <mat-label class="blueTxt">Nome:</mat-label>
        <input matInput id="nome" [(ngModel)]="user.name" name="name" />
      </mat-form-field>

      <mat-form-field class="w-full mb-4" *ngIf="!isLoading">
        <mat-label class="blueTxt">Email:</mat-label>
        <input
          matInput
          id="email"
          [(ngModel)]="user.email"
          name="email"
          [disabled]="formsAction === 'edit'"
        />
      </mat-form-field>

      <mat-form-field class="w-full mb-4" *ngIf="!isLoading">
        <mat-label class="blueTxt">Senha:</mat-label>
        <input
          matInput
          id="nif"
          [type]="hide() ? 'password' : 'text'"
          [(ngModel)]="user.password"
          name="password"
        />
        <button
          mat-icon-button
          matSuffix
          (click)="clickEvent($event)"
          [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hide()"
        >
          <mat-icon>{{ hide() ? "visibility_off" : "visibility" }}</mat-icon>
        </button>
      </mat-form-field>
<!-- REPLACE THIS BELOW WITH SOMETHING ELSE??? -->
      <div *ngIf="passwordFeedback.length > 0" class="errorSpan">
        <div *ngFor="let msg of passwordFeedback">{{ msg }}</div>
      </div>

      <button mat-raised-button type="submit" class="custom-button">
        ATUALIZAR
        </button>

      <div *ngIf="isLoading" class="loading-circle">
        <div class="spinner spinner_updateRecord-special"></div>
      </div>
    </form>
    <app-feedback
    [message]="notificationMessage"
    [type]="notificationType"
  ></app-feedback>
  </div>
</div>
