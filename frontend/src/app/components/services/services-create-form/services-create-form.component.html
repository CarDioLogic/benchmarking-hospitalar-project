<app-notification [message]="notificationMessage" [type]="notificationType"></app-notification>

<form (ngSubmit)="createService()">
  <div class="forms-container"> 
    <h2 class="forms-container--title">Criar serviço</h2>

    <div class="forms-container--inputContainer">
      <label class="inputContainer--label" for="nomeServico">Nome:</label>
      <input type="text" class="inputContainer--input" id="nomeServico" name="nomeServico"
        [(ngModel)]="nomeServico" placeholder="Nome do serviço">
    </div>

    <div class="forms-container--inputContainer">
      <label class="inputContainer--label" for="descricao">Descrição:</label>
      <textarea class="inputContainer--input" id="descricao" name="descricao" [(ngModel)]="nomeServico" placeholder="Descrição do serviço..."></textarea>
    </div>

    <div class="forms-container--inputContainer _inputFieldset">
        <label class="_inputFieldset--title">Imagem</label>
        <label for="file-upload" class="custom-file-upload">
          Escolher ficheiro
        </label>
        <input id="file-upload" type="file" (change)="onFileSelected($event)"/>
        <div id="file-chosen">{{ fileName }}</div>
    </div>

    <div class="checkboxContainer">
      <h4 class="checkboxContainer-title">Associar atividades:</h4>

      <div class="checkboxContainer--option" *ngFor="let activity of activitiesList; let i = index; trackBy: trackByIndex">
        <input class="styled-checkbox" type="checkbox"
        [checked]="isSelected(activity.id)" 
        (click)="toggleSelection(activity.id)">
        <label>{{ activity.activity_name }}</label>
      </div>

      <div *ngIf="isLoading" class="loading-circle">
        <div class="spinner"></div>
        <p>A carregar atividades...</p>
      </div>
    </div>

    <button type="submit" class="forms-Button" *ngIf="!isLoading">Adicionar</button>
  </div>
</form>

