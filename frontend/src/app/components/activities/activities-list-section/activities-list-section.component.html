<section class="flex flex-col min-h-full forms-container">
  <div class="flex justify-start items-center pb-2 text-xl gap-10 blueBG">
    <button mat-icon-button matTooltip="Clique para registrar uma nova atividade" [matTooltipPosition]="'right'"
      matTooltipClass="custom" class="small-btn whiteBG createBtn ml-5 w-[50px] h-[50px]"
      (click)="openDialog(null, 'create')">
      <img src="../../../assets/images/icons8-plus-30.png" alt="createIcon" class="icon-large" />
    </button>
    <h2 class="whiteTxt my-0">Lista de Atividades</h2>
  </div>

  <div class="mt-auto" *ngIf="isLoading">
    <app-loading-spinner class="" message="Procurando Atividades..."></app-loading-spinner>
  </div>

  <div *ngIf="!isLoading" class="min-h-full overflow-y-scroll">
    <div *ngIf="activities.length; else noResults" class="">
      <table matSort (matSortChange)="sortData($event)" class="w-[90%] mx-auto user-table rounded-xl">
        <thead class="top-[-2px] z-10">
          <tr class="">
            <th mat-sort-header="activity_name" class="p-2 w-1/3">Nome</th>
            <th class="p-2 w-1/3">Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let activity of sortedActivities">
            <td class="border p-2">{{ activity.activity_name }}</td>
            <td class="border p-2 text-center">
              <div class="flex justify-center space-x-4">
                <img src="../../../assets/images/pencil-96.png" class="w-5 h-5 cursor-pointer optionBtns" alt="Edit"
                  (click)="openDialog(activity, 'edit')" />
                <img src="../../../assets/images/trash-96.png" class="w-5 h-5 cursor-pointer optionBtns" alt="Delete"
                  (click)="openDialog(activity, 'delete')" />
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <ng-template #noResults>
      <div class="text-center mx-auto min-h-full">
        Nenhuma atividade encontrada.
      </div>
    </ng-template>
  </div>
  <app-paginator class="mt-auto" [length]="totalLength" [pageSize]="pageSize" [pageIndex]="currentPage"
    [pageSizeOptions]="pageSizeOptions" (page)="handlePageEvent($event)">
  </app-paginator>
</section>