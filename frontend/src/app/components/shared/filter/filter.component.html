<section class="mx-auto p-4 forms-container">
  <app-feedback [message]="feedbackMessage" [type]="feedbackType"></app-feedback>
  <div class="min-w-full gap-2 text-left whiteTxt">
    <div class="flex flex-col sm:flex-row gap-2">
      <div class="selectContainer w-full my-auto sm:min-w-[10%] sm:max-w-[300px]" *ngIf="showServiceInput">
        <select class="px-1 w-full" [(ngModel)]="selectedServiceId" (change)="onServiceSelect($event)"
          matTooltip="Selecione um serviço" [matTooltipPosition]="'below'" matTooltipClass="custom">
          <option [ngValue]="0" disabled>Selecione um serviço</option>
          <option *ngFor="let service of servicesList" [value]="service.id">{{ service.service_name }}</option>
        </select>
      </div>

      <div class="selectContainer w-full my-auto sm:min-w-[10%] sm:max-w-[300px]"
        *ngIf="showActivityInput && activitiesList.length > 0">
        <select class="w-full" [(ngModel)]="selectedActivityId" (change)="onActivitySelect($event)"
          [disabled]="!selectedServiceId" matTooltip="Selecione uma atividade" [matTooltipPosition]="'below'"
          matTooltipClass="custom">
          <option [ngValue]="undefined" disabled>Selecione uma atividade</option>
          <option *ngFor="let activity of activitiesList" [value]="activity.id">{{ activity.name }}</option>
        </select>
      </div>

      <div class="relative selectContainer my-auto w-full sm:min-w-[10%] sm:max-w-[300px]" *ngIf="indicatorsInput">
        <select class="w-full" [(ngModel)]="selectedIndicatorId" matTooltip="Selecione um indicador"
          [matTooltipPosition]="'below'" matTooltipClass="custom"
          [disabled]="!selectedServiceId || (showActivityInput && !selectedActivityId)">
          <option [ngValue]="undefined" disabled selected>Selecione um indicador</option>
          <option *ngFor="let indicator of indicatorsList" [value]="indicator.id">{{ indicator.name }}</option>
        </select>
      </div>

      <div class="flex items-center gap-1 w-full sm:w-auto" *ngIf="showMonthInput">
        <!-- <label for="month">Mês:</label> -->
        <input type="number" id="month" name="month" min="1" max="12" step="1"
          class="w-full py-1 px-2 inputContainer--input" [(ngModel)]="filter.month"
          [disabled]="!selectedServiceId || (!selectedIndicatorId && indicatorsInput)" matTooltip="Selecione um mês"
          [matTooltipPosition]="'below'" matTooltipClass="custom">
      </div>

      <div class="flex items-center gap-1 w-full sm:w-auto">
        <!-- <label for="year">Ano:</label> -->
        <input type="number" id="year" name="year" min="1900" max="2200" step="1"
          class="w-full inputContainer--input py-1" [(ngModel)]="filter.year"
          [disabled]="!selectedServiceId || (!selectedIndicatorId && indicatorsInput)" matTooltip="Selecione um ano"
          [matTooltipPosition]="'below'" matTooltipClass="custom">
      </div>

      <button (click)="sendFilter()"
        class="mt-4 ml-auto w-[40%] sm:w-[15%] bg-transparent py-1.5 cursor-pointer forms-Button">
        Procurar
      </button>
    </div>
  </div>
</section>